{
  "name": "nodegroup-oe",
  "description": "Stream Manager 2.0 AWS Node group with Origin and Edge",
  "cloudProperties": "environment=red5pro-cluster;vpc=red5pro-cluster-vpc;security_group=red5pro-cluster-node-sg",
  "cloudPlatform": "AWS",
  "isScalingPaused": false,
  "images": {
    "origin_image": {
      "name": "origin_image",
      "image": "red5pro-cluster-node-image-06Dec24-1707",
      "cloudProperties": "instance_type=t3.medium;volume_size=50"
    },
    "edge_image": {
      "name": "edge_image",
      "image": "red5pro-cluster-node-image-06Dec24-1707",
      "cloudProperties": "instance_type=t3.medium;volume_size=50"
    }
  },
  "roles": {
    "origin": {
      "name": "origin",
      "imageName": "origin_image",
      "capabilities": [
        "PUBLISH"
      ],
      "propertyOverrides": []
    },
    "edge": {
      "name": "edge",
      "imageName": "edge_image",
      "parentRoleName": "origin",
      "parentCardinality": "GLOBAL",
      "capabilities": [
        "SUBSCRIBE"
      ],
      "propertyOverrides": []
    }
  },
  "groups": {
    "default": {
      "subGroupName": "default",
      "nodeGroupName": "nodegroup-oe",
      "groupType": "main",
      "rulesByRole": {
        "origin": {
          "nodeGroupName": "nodegroup-oe",
          "subGroupName": "default",
          "nodeRoleName": "origin",
          "min": "1",
          "max": "20",
          "increment": 1,
          "outExpression": "(avg(connections.client) / 200) * 0.5 + (avg(connections.publisher) / 50) * 0.5 > 1.0",
          "inExpression": "avg(connections.client) < 10",
          "capacityRankingExpression": "(connections.client / 200) * 10",
          "capacityLimitExpression": "10"
        },
        "edge": {
          "nodeGroupName": "nodegroup-oe",
          "subGroupName": "default",
          "nodeRoleName": "edge",
          "min": "1",
          "max": "40",
          "increment": 1,
          "outExpression": "(avg(connections.client) / 200) * 0.5 + (avg(connections.subscriber) / 50) * 0.5 > 1.0",
          "inExpression": "avg(connections.client) < 10",
          "capacityRankingExpression": "(connections.client / 200) * 10",
          "capacityLimitExpression": "10"
        }
      },
      "cloudProperties": "region=ap-east-1"
    }
  },
  "internalVersionCount": 0
}
